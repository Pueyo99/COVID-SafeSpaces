Index: app/src/main/java/com/example/covidsafespaces/Register.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.covidsafespaces;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.method.HideReturnsTransformationMethod;\r\nimport android.text.method.PasswordTransformationMethod;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.PopupWindow;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Register extends AppCompatActivity {\r\n\r\n    private final String PASSWORDTEXT = \"La contraseña debe conterner una minúscula, una mayúscula, un número y un carácter especial\";\r\n    private final String REGEXP = \"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[\\\\-\\\\._$@$!%*?&])([A-Za-z\\\\d$@$!%*?&]|[^ ]){8,15}$\";\r\n\r\n    private TextView username;\r\n    private TextView mail;\r\n    private TextView password1;\r\n    private TextView password2;\r\n    private TextView alertText;\r\n    private Button registerButton;\r\n    private boolean password1Visible = false;\r\n    private boolean password2Visible = false;\r\n\r\n    @SuppressLint(\"ClickableViewAccessibility\")\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        username = findViewById(R.id.registerUsername);\r\n        mail = findViewById(R.id.registerMail);\r\n        password1 = findViewById(R.id.registerPassword);\r\n        password2 = findViewById(R.id.registerpassword2);\r\n        alertText = findViewById(R.id.wrongPassword);\r\n        registerButton = findViewById(R.id.registerButton);\r\n\r\n        password1.setOnTouchListener(new View.OnTouchListener() {\r\n            @SuppressLint(\"ClickableViewAccessibility\")\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                final int DRAWABLE_LEFT = 0;\r\n                final int DRAWABLE_TOP = 1;\r\n                final int DRAWABLE_RIGHT = 2;\r\n                final int DRAWABLE_BOTTOM = 3;\r\n\r\n                if(event.getAction() == MotionEvent.ACTION_UP) {\r\n                    if(event.getRawX() >= (password1.getRight() - password1.getCompoundDrawables()[DRAWABLE_RIGHT].getBounds().width())) {\r\n                        showHidePassword1();\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        password2.setOnTouchListener(new View.OnTouchListener() {\r\n            @SuppressLint(\"ClickableViewAccessibility\")\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                final int DRAWABLE_LEFT = 0;\r\n                final int DRAWABLE_TOP = 1;\r\n                final int DRAWABLE_RIGHT = 2;\r\n                final int DRAWABLE_BOTTOM = 3;\r\n\r\n                if(event.getAction() == MotionEvent.ACTION_UP) {\r\n                    if(event.getRawX() >= (password2.getRight() - password2.getCompoundDrawables()[DRAWABLE_RIGHT].getBounds().width())) {\r\n                        showHidePassword2();\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        registerButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                register();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void register(){\r\n        if(password1.getText().toString().trim().equals(password2.getText().toString().trim())){\r\n            if(Pattern.matches(REGEXP, password1.getText().toString().trim())){\r\n                /*new ServerConnection().register(username.getText().toString().trim(), mail.getText().toString().trim(),\r\n                        password1.getText().toString().trim());\r\n                Intent i = new Intent(this, TermsOfUse.class);\r\n                i.putExtra(\"username\",username.getText().toString());\r\n                startActivity(i);\r\n                finish();\r\n\r\n                 */\r\n                Toast.makeText(this, \"Me registro\", Toast.LENGTH_LONG).show();\r\n            }else{\r\n                alertText.setText(PASSWORDTEXT);\r\n                alertText.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n        } else{\r\n            password1.setText(\"\");\r\n            password2.setText(\"\");\r\n            alertText.setText(\"Las contraseñas introducidas no coinciden\");\r\n            alertText.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n\r\n    private void showHidePassword1(){\r\n        if(password1Visible){\r\n            password1.setTransformationMethod(PasswordTransformationMethod.getInstance());\r\n\r\n            password1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_lock, 0, R.drawable.ic_visible, 0);\r\n            password1Visible = false;\r\n        } else{\r\n            password1.setTransformationMethod(HideReturnsTransformationMethod.getInstance());\r\n            password1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_lock, 0, R.drawable.ic_novisible, 0);\r\n            password1Visible = true;\r\n        }\r\n    }\r\n\r\n    private void showHidePassword2(){\r\n        if(password2Visible){\r\n            password2.setTransformationMethod(PasswordTransformationMethod.getInstance());\r\n\r\n            password2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_lock, 0, R.drawable.ic_visible, 0);\r\n            password2Visible = false;\r\n        } else{\r\n            password2.setTransformationMethod(HideReturnsTransformationMethod.getInstance());\r\n            password2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_lock, 0, R.drawable.ic_novisible, 0);\r\n            password2Visible = true;\r\n        }\r\n    }\r\n\r\n    public void showMessage(){\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        final View v = inflater.inflate(R.layout.show_capacity, null,false);\r\n\r\n        ((TextView)v.findViewById(R.id.capacidad)).setText(\"The passwords entered are not the same\");\r\n\r\n        int width = LinearLayout.LayoutParams.WRAP_CONTENT;\r\n        int height = LinearLayout.LayoutParams.WRAP_CONTENT;\r\n\r\n        final PopupWindow popupWindow = new PopupWindow(v,width,height,true);\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                popupWindow.showAtLocation(v, Gravity.CENTER, 0 ,0);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/covidsafespaces/Register.java	(revision 18cdda56f6961eb555153c633049ada45d16cb67)
+++ app/src/main/java/com/example/covidsafespaces/Register.java	(date 1605554823662)
@@ -99,15 +99,12 @@
     private void register(){
         if(password1.getText().toString().trim().equals(password2.getText().toString().trim())){
             if(Pattern.matches(REGEXP, password1.getText().toString().trim())){
-                /*new ServerConnection().register(username.getText().toString().trim(), mail.getText().toString().trim(),
+                new ServerConnection().register(username.getText().toString().trim(), mail.getText().toString().trim(),
                         password1.getText().toString().trim());
-                Intent i = new Intent(this, TermsOfUse.class);
-                i.putExtra("username",username.getText().toString());
+                Intent i = new Intent(this, Login.class);
+                //i.putExtra("username",username.getText().toString());
                 startActivity(i);
                 finish();
-
-                 */
-                Toast.makeText(this, "Me registro", Toast.LENGTH_LONG).show();
             }else{
                 alertText.setText(PASSWORDTEXT);
                 alertText.setVisibility(View.VISIBLE);
